<% layout('app') -%>
<link rel="stylesheet" href="/css/post.css">
<style>
/* Style the tab */
div.tab {
    overflow: hidden;
    /*border: 1px solid #ccc;*/
    background-color: #fff;
    font-size: 15px;
    line-height: 21px;
    font-weight: 400;
}

/* Style the buttons inside the tab */
div.tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 6px 12px;
    margin: 0 10px;
    line-height: normal;
    transition: 0.3s;
    color: #666;
    font-size: 12px;
}

/* Change background color of buttons on hover */
div.tab button:hover {
    background-color: #ddd;
}

/* Create an active/current tablink class */
div.tab button.active {
    background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
    display: none;
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-top: none;
}
</style>

<div class="container m-t-20">

  <div class="row">
    <div class="tab">
      <button class="tablinks" onclick="openCity(event, 'all')" id="defaultOpen">All</button>
      <% for(var i = 0; i < categories.length; i++){ %>
        <button class="tablinks" onclick="openCity(event, '<%= categories[i].name %>')">
          <a href="/stories/<%= categories[i]._id %>"><%= categories[i].name %></a>
        </button>
      <% } %>
    </div>

    <div id="all" class="tabcontent">
      <h3>All</h3>
      <p>All popular news will be here.</p>
    </div>

    <% for(var i = 0; i < categories.length; i++){ %>
      <div id="<%= categories[i].name %>" class="tabcontent">
        <h3><%= categories[i].name %></h3>
        <p><span style="text-transform:capitalize"><%= categories[i].name %></span> news will be here.</p>
      </div>
    <% } %>

  </div>

<!-- script for inside tab -->
<script type="text/javascript">
function openCity(evt, cityName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.className += " active";
  }

  // Get the element with id="defaultOpen" and click on it
  document.getElementById("defaultOpen").click();
</script>


</div>
